<main
    [ngClass]="{'d-flex flex-column justify-content-center align-items-center': mobile(), 'main-grid': !mobile(), 'p-2 container': true}">

    <mat-card class="mat-elevation-z8" [ngClass]="{'mobile-card': mobile()}">
        <mat-card-header>
            <mat-card-title>Statistiques du blog</mat-card-title>
        </mat-card-header>
        <mat-card-content class="d-flex flex-column align-items-center">
            <div class="stats-period-selector" [ngClass]="{'w-100': mobile()}">
                <mat-button-toggle-group class="responsive-toggle-group" [ngClass]="{'mobile-toggle-group': mobile()}"
                    [(ngModel)]="selectedPeriod" (ngModelChange)="onPeriodChange(selectedPeriod)"
                    aria-label="Choisir la période">

                    <mat-button-toggle value="total">Total</mat-button-toggle>
                    <mat-button-toggle value="yearly">Annuel</mat-button-toggle>
                    <mat-button-toggle value="monthly">Mensuel</mat-button-toggle>
                    <mat-button-toggle value="weekly">Hebdomadaire</mat-button-toggle>
                </mat-button-toggle-group>
            </div>

            <div class="card-content w-100 mt-3"
                [ngClass]="{'rounded mat-elevation-z8': !mobile(), 'mobile-card border mat-elevation-z8': mobile()}">
                <p>
                    {{ dashboardRuban[6].title | uppercase}}
                </p>
                @if(dashboardRuban[6].value === null || dashboardRuban[6].value === undefined){
                <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
                }
                @else {
                <h1>
                    {{dashboardRuban[6].value}}
                </h1>
                <button matButton [routerLink]="dashboardRuban[6].link">Voir les détails</button>

                }
            </div>
        </mat-card-content>
     
    </mat-card>

    @for(ruban of dashboardRuban; track $index){
    @if ($index !== 6) { <div
        [ngClass]="{'rounded mat-elevation-z8 card-content p-3': !mobile(), 'mobile-card border mat-elevation-z8': mobile()}">
        <p>
            {{ ruban.title | uppercase}}
        </p>
        @if(ruban.value === null || ruban.value === undefined){
        <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
        }
        @else {
        <h1>
            {{ruban.value}}
        </h1>
        }
        <p>
            <button matButton [routerLink]="ruban.link">Voir les détails</button>
        </p>
    </div>
    }
    }
</main>